<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Code Journey Blog</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="hero">
      <nav class="nav">
        <div class="brand">
          <span class="brand-mark">Ô£ø</span>
          <div class="brand-text">
            <p class="brand-title">Code Journey</p>
            <p class="brand-subtitle">iOS Developer ¬∑ Blog & Portfolio</p>
          </div>
        </div>
        <div class="nav-actions">
          <button class="ghost-button" type="button" onclick="window.location.href='#settings'">Subscribe</button>
          <button class="primary-button" type="button" id="loginBtn">Log In</button>
        </div>
      </nav>
      <div class="hero-content">
        <div class="hero-text">
          <p class="eyebrow">Swift ¬∑ UIKit ¬∑ SwiftUI ¬∑ Xcode</p>
          <h1>Sharing my coding journey through polished iOS experiences.</h1>
          <p class="hero-description">
            A modern space to document lessons learned, showcase shipped apps,
            and connect with developers who care about craftsmanship.
          </p>
          <div class="hero-cta">
            <button class="primary-button" type="button" onclick="window.location.href='#settings'">Join the Blog</button>
            <button class="secondary-button" type="button" onclick="window.location.href='#portfolio'">View Portfolio</button>
          </div>
        </div>
        <div class="hero-card">
          <h2>Newsletter Highlights</h2>
          <p>
            New blog posts and project launches are delivered straight to your
            inbox. Confirm your email within 24 hours to activate alerts.
          </p>
          <div class="email-tags">
            <span>New Posts</span>
            <span>Portfolio Drops</span>
            <span>iOS Tips</span>
          </div>
        </div>
      </div>
    </header>

    <main class="main">
      <section class="tabs">
        <button class="tab active" data-tab="blogs">Blogs</button>
        <button class="tab" data-tab="portfolio">Portfolio</button>
        <button class="tab" data-tab="about">About Me</button>
        <button class="tab" data-tab="settings">Settings</button>
      </section>

      <section class="tab-panel active" id="blogs">
        <div class="panel-header">
          <div>
            <h2>Latest Blog Posts</h2>
            <p class="muted">
              Deep dives, quick tips, and lessons from building iOS products.
            </p>
          </div>
          <button class="filter-pill">All Posts</button>
        </div>

        <div class="content-grid">
          <!-- Blog posts will be dynamically inserted here by script.js -->
        </div>

        <div class="comments">
          <h3>Community Comments</h3>
          <p class="muted">
            Join the discussion by leaving feedback or questions on any post.
          </p>
          <form class="comment-form">
            <input type="text" name="name" placeholder="Your name" required />
            <textarea
              name="comment"
              rows="4"
              placeholder="Share your thoughts..."
              required
            ></textarea>
            <button class="primary-button" type="submit">Post Comment</button>
          </form>
          <div class="comment-list" id="commentList"></div>
        </div>
      </section>

      <section class="tab-panel" id="portfolio">
        <div class="panel-header">
          <div>
            <h2>Portfolio</h2>
            <p class="muted">
              A curated list of iOS apps, experiments, and shipped features.
            </p>
          </div>
          <button class="filter-pill">Featured</button>
        </div>
        <div class="content-grid">
          <article class="card project-card">
            <img
              class="project-icon"
              src="https://postimg.cc/WFstqhbG"
              alt="Perk Punch app icon"
            />
            <h3>
              <a href="https://apps.apple.com/us/app/perk-punch/id6746662386"
                >Perk Punch</a
              >
            </h3>
            <p>Punch Your Way to Perks.</p>
            <div class="project-tags">
              <span>Loyalty</span>
              <span>Rewards</span>
              <span>iOS</span>
            </div>
          </article>
          <article class="card project-card">
            <img
              class="project-icon"
              src="https://postimg.cc/0zz3YfHS"
              alt="BookWorm! app icon"
            />
            <h3>
              <a href="https://apps.apple.com/us/app/bookworm/id6738531588"
                >BookWorm!</a
              >
            </h3>
            <p>Library, organize, search.</p>
            <div class="project-tags">
              <span>Library</span>
              <span>Catalog</span>
              <span>Search</span>
            </div>
          </article>
          <article class="card project-card">
            <img
              class="project-icon"
              src="https://postimg.cc/N2rDyJ0L"
              alt="Auto Do It app icon"
            />
            <h3>
              <a href="https://apps.apple.com/us/app/auto-do-it/id6670796120"
                >Auto Do It</a
              >
            </h3>
            <p>ToDo List Plan, Organize, AI.</p>
            <div class="project-tags">
              <span>To-Do</span>
              <span>Planning</span>
              <span>AI</span>
            </div>
          </article>
        </div>
      </section>

      <section class="tab-panel" id="about">
        <div class="panel-header">
          <div>
            <h2>About the Author</h2>
            <p class="muted">My journey into iOS development and what drives me.</p>
          </div>
        </div>
        <div class="card about-card">
          <h3 style="margin-bottom: 16px; color: var(--text-primary);">Connor Hill</h3>
          <p>
            I began my iOS development journey 2 years ago, diving deep into Swift, SwiftUI, and the Apple ecosystem. 
            What started as curiosity about building mobile apps quickly evolved into a passion for crafting polished, 
            user focused experiences.
          </p>
          <p>
            Since then, I've successfully launched 3 apps on the App Store, each teaching me valuable lessons about 
            design, performance optimization, and the importance of user feedback. From conceptualization to 
            App Store submission, I've experienced the full development lifecycle and loved every minute of it.
          </p>
          <p>
            Through this blog, I document my learning process, share insights on iOS development best practices, 
            and explore the evolving landscape of Apple platforms. Whether it's deep diving into SwiftUI patterns, 
            profiling app performance, or discussing architecture decisions, I aim to create content that helps myself and
            fellow developers grow.
          </p>
          <p>
            I plan to continue expanding my app portfolio, experimenting with new Apple technologies, and learning 
            as much as I can about building awesome iOS experiences just like that first time I uploaded to the App Store! My goal is to master Apple's 
            APIs and frameworks while sharing what I learn along the way. Enjoy!
          </p>
          <div class="about-stats">
            <div>
              <h4 style="color: var(--accent);">2+</h4>
              <span>Years in iOS</span>
            </div>
            <div>
              <h4 style="color: var(--accent);">3</h4>
              <span>Apps in App Store</span>
            </div>
            <div>
              <h4 style="color: var(--accent);">‚àû</h4>
              <span>Always Learning</span>
            </div>
          </div>
          <div style="margin-top: 32px; padding-top: 32px; border-top: 1px solid var(--border);">
            <p style="margin-bottom: 8px; font-weight: 600; color: var(--text-primary);">
              Let's Connect
            </p>
            <p style="color: var(--text-secondary); margin-bottom: 12px;">
              Have questions, collaboration ideas, or just want to chat about iOS development?
            </p>
            <p>
              <strong>Email:</strong> 
              <a href="mailto:hilljamesconnor@gmail.com" style="color: var(--accent); text-decoration: none;">
                hilljamesconnor@gmail.com
              </a>
            </p>
          </div>
        </div>
      </section>

      <section class="tab-panel" id="settings">
        <div class="panel-header">
          <div>
            <h2>Subscribe to Code Journey</h2>
            <p class="muted">
              Don't miss out on the latest iOS development insights. Get new posts delivered directly to your inbox.
            </p>
          </div>
        </div>
        <div class="settings-grid">
          <form class="card join-card" id="joinForm">
            <h3>üì¨ Join the Newsletter</h3>
            <p>
              Get notified when new blog posts and portfolio projects launch. Weekly digests with iOS tips, tricks, and best practices.
            </p>
            <input type="text" name="fullName" placeholder="Full name" required />
            <input type="email" name="email" placeholder="Email address" required />
            <button class="primary-button" type="submit">Subscribe Now</button>
            <div class="form-message" id="joinMessage" role="status"></div>
            <p class="form-note">
              <small>üîí No spam. Unsubscribe at any time. I respect your privacy.</small>
            </p>
          </form>

          <div class="card preferences-card">
            <h3>What You'll Get</h3>
            <div class="benefits-list">
              <div class="benefit-item">
                <span class="benefit-icon">üì±</span>
                <div>
                  <h4>iOS Development Tutorials</h4>
                  <p class="muted">Deep dives into SwiftUI, UIKit, and performance optimization.</p>
                </div>
              </div>
              <div class="benefit-item">
                <span class="benefit-icon">üöÄ</span>
                <div>
                  <h4>Project Launch Updates</h4>
                  <p class="muted">Be the first to know about new apps and portfolio additions.</p>
                </div>
              </div>
              <div class="benefit-item">
                <span class="benefit-icon">üí°</span>
                <div>
                  <h4>Quick Tips & Best Practices</h4>
                  <p class="muted">Actionable insights from real-world iOS development.</p>
                </div>
              </div>
            </div>
            <div class="subscriber-stats">
              <div class="stat">
                <strong>500+</strong>
                <span>Subscribers</span>
              </div>
              <div class="stat">
                <strong>Weekly</strong>
                <span>Updates</span>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="footer-content">
        <div>
          <p class="footer-title">Code Journey</p>
          <p>¬© 2026 Connor Hill. All rights reserved.</p>
          <p class="footer-subtitle">Building delightful iOS experiences.</p>
        </div>
        <div class="footer-links">
          <div class="footer-section">
            <h4>Connect</h4>
            <a href="#" class="link-button">LinkedIn</a>
            <a href="#" class="link-button">GitHub</a>
            <a href="#" class="link-button">Twitter</a>
            <a href="mailto:hello@codejourney.dev" class="link-button">Email</a>
          </div>
          <div class="footer-section">
            <h4>Navigate</h4>
            <a href="#blogs" class="link-button">Blog</a>
            <a href="#portfolio" class="link-button">Portfolio</a>
            <a href="#about" class="link-button">About</a>
            <a href="#settings" class="link-button">Subscribe</a>
          </div>
        </div>
      </div>
    </footer>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>üîê Admin Login</h2>
          <span class="close-modal" id="closeModal">&times;</span>
        </div>
        <div class="modal-body">
          <div id="loginError" class="login-error"></div>
          <form id="modalLoginForm">
            <div class="modal-form-group">
              <label for="modalEmail">Email</label>
              <input type="email" id="modalEmail" required placeholder="your@email.com" autocomplete="email">
            </div>
            <div class="modal-form-group">
              <label for="modalPassword">Password</label>
              <input type="password" id="modalPassword" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password">
            </div>
            <button type="submit" class="primary-button" id="modalLoginButton" style="width: 100%;">
              Sign In
            </button>
          </form>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
    <script type="module">
      import { auth } from './js/firebase-config.js';
      import { 
        signInWithEmailAndPassword,
        onAuthStateChanged
      } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';

      const loginBtn = document.getElementById('loginBtn');
      const loginModal = document.getElementById('loginModal');
      const closeModal = document.getElementById('closeModal');
      const modalLoginForm = document.getElementById('modalLoginForm');
      const modalLoginButton = document.getElementById('modalLoginButton');
      const loginError = document.getElementById('loginError');

      // Check if already logged in
      onAuthStateChanged(auth, (user) => {
        if (user) {
          loginBtn.textContent = 'Admin Panel';
          loginBtn.onclick = () => window.location.href = 'admin.html';
        }
      });

      // Open modal
      loginBtn.addEventListener('click', () => {
        if (loginBtn.textContent === 'Admin Panel') {
          window.location.href = 'admin.html';
        } else {
          loginModal.style.display = 'flex';
        }
      });

      // Close modal
      closeModal.addEventListener('click', () => {
        loginModal.style.display = 'none';
        loginError.textContent = '';
        modalLoginForm.reset();
      });

      // Close modal when clicking outside
      window.addEventListener('click', (e) => {
        if (e.target === loginModal) {
          loginModal.style.display = 'none';
          loginError.textContent = '';
          modalLoginForm.reset();
        }
      });

      // Handle login
      modalLoginForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        
        const email = document.getElementById('modalEmail').value;
        const password = document.getElementById('modalPassword').value;
        
        modalLoginButton.disabled = true;
        modalLoginButton.textContent = 'Signing in...';
        loginError.textContent = '';
        
        try {
          await signInWithEmailAndPassword(auth, email, password);
          loginModal.style.display = 'none';
          window.location.href = 'admin.html';
        } catch (error) {
          console.error('Login error:', error);
          
          let message = 'Login failed. Please check your credentials.';
          if (error.code === 'auth/user-not-found') {
            message = 'No account found with this email.';
          } else if (error.code === 'auth/wrong-password') {
            message = 'Incorrect password.';
          } else if (error.code === 'auth/invalid-email') {
            message = 'Invalid email address.';
          } else if (error.code === 'auth/too-many-requests') {
            message = 'Too many failed attempts. Try again later.';
          } else if (error.code === 'auth/invalid-credential') {
            message = 'Invalid credentials. Please check your email and password.';
          }
          
          loginError.textContent = message;
          modalLoginButton.disabled = false;
          modalLoginButton.textContent = 'Sign In';
        }
      });

      // Close modal with Escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && loginModal.style.display === 'flex') {
          loginModal.style.display = 'none';
          loginError.textContent = '';
          modalLoginForm.reset();
        }
      });
    </script>
  </body>
</html>
